<?xml version="1.0" encoding="UTF-8"?>
<project>
  <!-- Основной элемент проекта -->
  <name>Welcome Project</name>

  <!-- Настройки для конфигураций сборки -->
  <buildTypes>
    <!-- Основная конфигурация сборки -->
    <buildType id="Build_WelcomeProject" name="Build Welcome Project">
      <settings>
        <setting name="maven.runner.goal" value="clean deploy"/>
        <setting name="maven.runner.pomFile" value="pom.xml"/>
      </settings>
      <steps>
        <step id="mavenBuild" name="Maven Build" type="maven-runner">
          <mavenVersion ref="default"/>
          <goal>clean deploy</goal>
          <pomFile>pom.xml</pomFile>
        </step>
      </steps>
      <triggers>
        <trigger id="triggerOnChanges" type="vcsTrigger">
          <branchFilter>
            <rule type="plus" branch="+:<default>"/>
          </branchFilter>
        </trigger>
      </triggers>
      <vcs>
        <root id="WelcomeVcsRoot" />
      </vcs>
    </buildType>
  </buildTypes>

  <!-- Настройки для VCS корневых папок -->
  <vcsRoots>
    <vcsRoot id="WelcomeVcsRoot" name="Welcome VCS Root">
      <vcs name="Git">
        <url>https://github.com/bezymel/mnt-homeworks/new/MNT-video/09-ci-05-teamcity/teamcity/example-teamcity.git</url>
        <authMethod>PASSWORD</authMethod>
        <username>bezumel</username>
        <password>your-password</password>
      </vcs>
    </vcsRoot>
  </vcsRoots>

  <!-- Параметры проекта -->
  <parameters>
    <property name="env.SERVER_URL" value="http://teamcity.example.com:8111"/>
  </parameters>

  <!-- Настройки агентов -->
  <agents>
    <agent name="WelcomeAgent" />
  </agents>
</project>
